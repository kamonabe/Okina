# ãƒªãƒªãƒ¼ã‚¹ãƒ—ãƒ­ã‚»ã‚¹å…±é€šãƒ«ãƒ¼ãƒ«

## ğŸ¯ åŸºæœ¬æ–¹é‡

å…¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä¸€è²«ã—ãŸãƒªãƒªãƒ¼ã‚¹ãƒ—ãƒ­ã‚»ã‚¹ã‚’å®Ÿè¡Œã—ã€å“è³ªã®é«˜ã„ãƒªãƒªãƒ¼ã‚¹ã‚’å®Ÿç¾ã—ã¾ã™ã€‚

## ğŸ”„ ãƒªãƒªãƒ¼ã‚¹ãƒ•ãƒ­ãƒ¼

### Phase 1: å®Ÿè£…å®Œäº†
1. **æ©Ÿèƒ½å®Ÿè£…å®Œäº†**
2. **ãƒ†ã‚¹ãƒˆä½œæˆãƒ»å®Ÿè¡Œ**
3. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°**
4. **ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼**

### Phase 2: ãƒªãƒªãƒ¼ã‚¹æº–å‚™
1. **ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ±ºå®š**
2. **ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±æ›´æ–°**
3. **CHANGELOGæ›´æ–°**
4. **æœ€çµ‚ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ**

### Phase 3: ãƒªãƒªãƒ¼ã‚¹å®Ÿè¡Œ
1. **mainãƒ–ãƒ©ãƒ³ãƒãƒãƒ¼ã‚¸**
2. **ã‚¿ã‚°ä½œæˆ**
3. **GitHub Releasesä½œæˆ**
4. **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å…¬é–‹**

### Phase 4: ãƒªãƒªãƒ¼ã‚¹å¾Œå‡¦ç†
1. **å®Œäº†ã‚¿ã‚¹ã‚¯ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–**
2. **æ¬¡ãƒãƒ¼ã‚¸ãƒ§ãƒ³æº–å‚™**
3. **ãƒªãƒªãƒ¼ã‚¹é€šçŸ¥**

## ğŸ“‹ è©³ç´°æ‰‹é †

### 1. ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ±ºå®š
```bash
# å¤‰æ›´å†…å®¹ã‚’ç¢ºèª
git log --oneline v1.2.3..HEAD

# SemVerãƒ«ãƒ¼ãƒ«ã«å¾“ã£ã¦åˆ¤å®š
# MAJOR.MINOR.PATCH
```

### 2. ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±æ›´æ–°ï¼ˆå¿…é ˆ4ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰

#### 2-1. version.txt
```bash
echo "1.2.4" > version.txt
```

#### 2-2. src/{project}/__init__.py
```python
__version__ = "1.2.4"
```

#### 2-3. docs/CHANGELOG.md
```markdown
## [Unreleased]

## [1.2.4] - 2025-01-05
### Added
- æ–°æ©Ÿèƒ½ã®èª¬æ˜

### Fixed
- ãƒã‚°ä¿®æ­£ã®èª¬æ˜
```

#### 2-4. .kiro/steering/project-config.yml
```yaml
versioning:
  current_version: "1.2.4"
```

### 3. æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯
```bash
# ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯
python scripts/check_status_consistency.py

# ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯
python scripts/check_version_consistency.py

# Specæ§‹é€ æ¤œè¨¼
python scripts/validate_specs.py
```

### 4. æœ€çµ‚ãƒ†ã‚¹ãƒˆ
```bash
# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
pytest tests/ -v

# ã‚«ãƒãƒ¬ãƒƒã‚¸ç¢ºèª
pytest --cov=src --cov-report=term --cov-fail-under=90

# ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯
black --check src/ tests/
flake8 src/ tests/
```

### 5. mainãƒ–ãƒ©ãƒ³ãƒãƒãƒ¼ã‚¸
```bash
# é–‹ç™ºãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰æœ€æ–°mainã‚’å–ã‚Šè¾¼ã¿
git fetch origin
git merge origin/main

# ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆè§£æ±ºï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰

# mainã«ãƒãƒ¼ã‚¸
git checkout main
git merge feature/task-XXX-{feature-name}
```

### 6. ã‚¿ã‚°ä½œæˆ
```bash
# ã‚¿ã‚°ä½œæˆ
git tag v1.2.4

# ã‚¿ã‚°ã‚’ãƒ—ãƒƒã‚·ãƒ¥
git push origin main --tags
```

### 7. GitHub Releasesä½œæˆ

#### ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆç”Ÿæˆ
```bash
# è‡ªå‹•ç”Ÿæˆ
python scripts/generate_release_notes.py v1.2.4
```

#### GitHub Releasesã«ç™»éŒ²
- ã‚¿ã‚¤ãƒˆãƒ«: `v1.2.4 - æ©Ÿèƒ½å`
- èª¬æ˜: CHANGELOGã‹ã‚‰è©²å½“ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŠ½å‡º
- ãƒ•ã‚¡ã‚¤ãƒ«æ·»ä»˜: å¿…è¦ã«å¿œã˜ã¦

### 8. ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å…¬é–‹ï¼ˆè©²å½“ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã¿ï¼‰

#### PyPIå…¬é–‹
```bash
# ãƒ“ãƒ«ãƒ‰
python -m build

# å…¬é–‹
python -m twine upload dist/*

# ç¢ºèª
pip install {project}==1.2.4
{project} --version
```

### 9. å®Œäº†ã‚¿ã‚¹ã‚¯ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–
```bash
# å‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®å®Œäº†ã‚¿ã‚¹ã‚¯ã‚’ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–
# implementation-tasks.md â†’ completed-tasks.md
```

## ğŸš¨ ãƒªãƒªãƒ¼ã‚¹å‰ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### å¿…é ˆãƒã‚§ãƒƒã‚¯é …ç›®
- [ ] å…¨ãƒ†ã‚¹ãƒˆãŒãƒ‘ã‚¹
- [ ] ã‚«ãƒãƒ¬ãƒƒã‚¸ãŒç›®æ¨™å€¤ä»¥ä¸Š
- [ ] ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯ãŒãƒ‘ã‚¹
- [ ] 4ã¤ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ›´æ–°æ¸ˆã¿
- [ ] CHANGELOGãŒæ›´æ–°æ¸ˆã¿
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæœ€æ–°
- [ ] æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯ãŒãƒ‘ã‚¹

### æ¨å¥¨ãƒã‚§ãƒƒã‚¯é …ç›®
- [ ] æ‰‹å‹•ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œ
- [ ] ä¾å­˜é–¢ä¿‚ã®è„†å¼±æ€§ãƒã‚§ãƒƒã‚¯

## ğŸ”§ è‡ªå‹•åŒ–æ”¯æ´

### CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
```yaml
# .github/workflows/release.yml
name: Release

on:
  push:
    tags:
      - 'v*'

jobs:
  release:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      
      - name: Run tests
        run: |
          pytest tests/ -v
          pytest --cov=src --cov-fail-under=90
      
      - name: Build package
        run: python -m build
      
      - name: Create GitHub Release
        uses: actions/create-release@v1
        with:
          tag_name: ${{ github.ref }}
          release_name: Release ${{ github.ref }}
          body_path: RELEASE_NOTES.md
      
      - name: Publish to PyPI
        uses: pypa/gh-action-pypi-publish@release/v1
        with:
          password: ${{ secrets.PYPI_API_TOKEN }}
```

### ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆè‡ªå‹•ç”Ÿæˆ
```python
# scripts/generate_release_notes.py
def generate_release_notes(version):
    """CHANGELOGã‹ã‚‰ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆ"""
    # CHANGELOG.mdã‹ã‚‰è©²å½“ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŠ½å‡º
    # GitHub Releasesç”¨ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
    # RELEASE_NOTES.mdã«å‡ºåŠ›
```

## ğŸ“Š ãƒªãƒªãƒ¼ã‚¹å“è³ªæŒ‡æ¨™

### å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹
- ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸: 90%ä»¥ä¸Š
- ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚é–“: 5åˆ†ä»¥å†…
- ãƒ“ãƒ«ãƒ‰æˆåŠŸç‡: 95%ä»¥ä¸Š
- ãƒªãƒªãƒ¼ã‚¹é »åº¦: æœˆ1-2å›

### å“è³ªã‚²ãƒ¼ãƒˆ
- å…¨ãƒ†ã‚¹ãƒˆãƒ‘ã‚¹: å¿…é ˆ
- ã‚«ãƒãƒ¬ãƒƒã‚¸é–¾å€¤: å¿…é ˆ
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯: å¿…é ˆ
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŠ£åŒ–ãªã—: æ¨å¥¨

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®èª¿æ•´

å„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ä»¥ä¸‹ã‚’èª¿æ•´å¯èƒ½ï¼š
- ãƒªãƒªãƒ¼ã‚¹é »åº¦
- å“è³ªã‚²ãƒ¼ãƒˆã®åŸºæº–
- å…¬é–‹å…ˆï¼ˆPyPIã€GitHub Releasesç­‰ï¼‰
- é€šçŸ¥æ–¹æ³•

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®æ‰‹é †

#### Komon
- ã‚·ã‚¹ãƒ†ãƒ ç›£è¦–æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ
- è¤‡æ•°ç’°å¢ƒã§ã®å‹•ä½œç¢ºèª

#### Okina
- é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ†ã‚¹ãƒˆ
- å·®åˆ†æ¤œçŸ¥ç²¾åº¦ã®ç¢ºèª
- Input Provideré€£æºãƒ†ã‚¹ãƒˆ

## ğŸš¨ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

#### ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¸æ•´åˆ
```bash
# ç¢ºèª
python scripts/check_version_consistency.py

# ä¿®æ­£
# 4ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ‰‹å‹•ã§ä¿®æ­£
```

#### ãƒ†ã‚¹ãƒˆå¤±æ•—
```bash
# è©³ç´°ç¢ºèª
pytest tests/ -v --tb=long

# ã‚«ãƒãƒ¬ãƒƒã‚¸ä¸è¶³
pytest --cov=src --cov-report=html
```

#### ã‚¿ã‚°ä½œæˆå¤±æ•—
```bash
# æ—¢å­˜ã‚¿ã‚°ç¢ºèª
git tag -l

# ã‚¿ã‚°å‰Šé™¤ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
git tag -d v1.2.4
git push origin :refs/tags/v1.2.4
```

### ç·Šæ€¥æ™‚ã®å¯¾å¿œ

#### ãƒªãƒªãƒ¼ã‚¹å¾Œã®ç·Šæ€¥ä¿®æ­£
1. hotfixãƒ–ãƒ©ãƒ³ãƒä½œæˆ
2. ä¿®æ­£å®Ÿè£…
3. ãƒ‘ãƒƒãƒãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—
4. ç·Šæ€¥ãƒªãƒªãƒ¼ã‚¹

#### ãƒªãƒªãƒ¼ã‚¹å–ã‚Šæ¶ˆã—
1. GitHub Releasesã‹ã‚‰å‰Šé™¤
2. PyPIã‹ã‚‰å‰Šé™¤ï¼ˆä¸å¯èƒ½ãªå ´åˆã¯æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰
3. ã‚¿ã‚°å‰Šé™¤
4. ä¿®æ­£ç‰ˆãƒªãƒªãƒ¼ã‚¹

## ğŸ¯ é©ç”¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

- âœ… Komon
- âœ… Okina
- ğŸ”„ ä»Šå¾Œã®æ–°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ã¦