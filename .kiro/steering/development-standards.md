# 開発標準ガイド

## 🎯 目的
KomonとOkina、および今後の全プロジェクトで共通する開発標準を定義し、
一貫性のある高品質な開発を実現する。

## 📋 基本原則

### 最優先原則：「理解に追いつける範囲で進める」
```
人間の理解速度 > AI の生成速度
```

この原則により：
- ✅ コードの品質が保たれる
- ✅ 属人化を防げる
- ✅ 長期的なメンテナンス性が保たれる
- ✅ バグの早期発見が可能
- ✅ セキュリティリスクを低減

## 🧪 テスト戦略

### テストカバレッジ目標
- **目標**: 90%以上
- **最低**: 80%以上
- **重要モジュール**: 95%以上

### テストレベル
1. **ユニットテスト**: 外部依存なし
2. **統合テスト**: 外部依存あり
3. **プロパティテスト**: hypothesis使用

### テスト実行
```bash
pytest tests/ -v
pytest --cov=src --cov-report=html
```

## 🎨 コード品質

### フォーマット・リント
```bash
black src/ tests/
flake8 src/ tests/
mypy src/
```

### コミット前チェック
1. テスト実行
2. カバレッジ確認
3. フォーマット適用
4. 型チェック

## 📝 コミットメッセージ規約

### フォーマット
```
<type>: <subject>

<body>
```

### Type一覧
- `feat`: 新機能
- `fix`: バグ修正
- `docs`: ドキュメント
- `style`: フォーマット
- `refactor`: リファクタリング
- `test`: テスト追加・修正
- `chore`: その他

### 例
```
feat: 通知システムにSlack対応を追加

MessageFormatterクラスにSlack用のフォーマット機能を実装。
翁らしい静かで簡潔なメッセージ生成を実現。
```

## 🏗️ プロジェクト構造

### 標準ディレクトリ構成
```
PROJECT_NAME/
├── src/PROJECT_NAME/       # コアモジュール
├── tests/                  # テストコード
├── docs/                   # ドキュメント
├── config/                 # 設定サンプル
├── scripts/                # 実行スクリプト
├── .kiro/                  # Kiro設定
│   ├── specs/              # 仕様書
│   └── steering/           # ステアリングルール
├── README.md               # プロジェクト概要
├── requirements.txt        # 依存関係
├── requirements-dev.txt    # 開発依存関係
├── setup.py               # パッケージ設定
└── pytest.ini            # テスト設定
```

## 📚 ドキュメント標準

### 必須ドキュメント
- `README.md`: プロジェクト概要（日英両対応）
- `CHANGELOG.md`: 変更履歴
- `docs/PROJECT_STRUCTURE.md`: プロジェクト構造
- `.kiro/specs/`: 仕様書（YAML形式）

### README構成
1. プロジェクト名と概要
2. バッジ（ライセンス、Python版数、テスト状況）
3. 言語選択（日本語・英語）
4. クイックスタート
5. 詳細ドキュメントへのリンク

## 🔄 リリースプロセス

### バージョニング
- セマンティックバージョニング（SemVer）
- `version.txt`で管理

### リリース手順
1. CHANGELOG.md更新
2. version.txt更新
3. テスト実行・カバレッジ確認
4. タグ作成
5. PyPI公開（該当する場合）

## 🎯 適用プロジェクト

- ✅ Komon
- ✅ Okina
- 🔄 今後の新プロジェクト全て