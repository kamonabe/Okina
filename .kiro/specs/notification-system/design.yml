# è¨­è¨ˆæ›¸: Okinaé€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ 

metadata:
  title: "Okinaé€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ "
  feature: "notification-system"
  status: "draft"
  created: "2025-12-22"
  updated: "2025-12-22"
  version: "1.0.0"
  last_validated: null
  validation_passed: null

architecture:
  overview: |
    Okinaé€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ ã¯3å±¤æ§‹é€ ã§è¨­è¨ˆã•ã‚Œã¦ã„ã‚‹ï¼š
    1. ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆå±¤ - å¤‰åŒ–æ¤œçŸ¥çµæœã‹ã‚‰é€šçŸ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”Ÿæˆ
    2. ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡å±¤ - å„ã‚µãƒ¼ãƒ“ã‚¹APIã¸ã®é€ä¿¡
    3. è¨­å®šç®¡ç†å±¤ - ã‚»ã‚­ãƒ¥ã‚¢ãªè¨­å®šç®¡ç†
    
    Okinaã®è¨­è¨ˆå“²å­¦ã€Œé™ã‹ã«è¦‹å®ˆã‚Šã€å‰ã¨é•ãˆã°çŸ¥ã‚‰ã›ã€åˆ¤æ–­ã¯äººã«å§”ã­ã‚‹ã€ã«
    åŸºã¥ãã€ã‚·ãƒ³ãƒ—ãƒ«ã§ä¿¡é ¼æ€§ã®é«˜ã„è¨­è¨ˆã¨ãªã£ã¦ã„ã‚‹ã€‚
  
  components:
    - name: "NotificationManager"
      type: "class"
      responsibility: "é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ ã®çµ±åˆç®¡ç†"
      dependencies: ["requests", "smtplib", "email"]
    
    - name: "MessageFormatter"
      type: "class"
      responsibility: "é€šçŸ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ç”Ÿæˆ"
      dependencies: []
    
    - name: "SlackNotifier"
      type: "class"
      responsibility: "Slacké€šçŸ¥ã®é€ä¿¡"
      dependencies: ["requests"]
    
    - name: "DiscordNotifier"
      type: "class"
      responsibility: "Discordé€šçŸ¥ã®é€ä¿¡"
      dependencies: ["requests"]
    
    - name: "TeamsNotifier"
      type: "class"
      responsibility: "Teamsé€šçŸ¥ã®é€ä¿¡"
      dependencies: ["requests"]
    
    - name: "EmailNotifier"
      type: "class"
      responsibility: "ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ã®é€ä¿¡"
      dependencies: ["smtplib", "email"]
  
  data-flow:
    - from: "å¤‰åŒ–æ¤œçŸ¥çµæœ"
      to: "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆ"
      description: "å·®åˆ†ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰é€šçŸ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”Ÿæˆ"
    
    - from: "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆ"
      to: "è¨­å®šè§£æ±º"
      description: "ç’°å¢ƒå¤‰æ•°ã®è§£æ±ºã¨è¨­å®šå–å¾—"
    
    - from: "è¨­å®šè§£æ±º"
      to: "ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡"
      description: "å„ã‚µãƒ¼ãƒ“ã‚¹APIã¸ã®é€ä¿¡"
    
    - from: "ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡"
      to: "çµæœè¿”å´"
      description: "é€ä¿¡çµæœã®è¿”å´"

modules:
  - name: "notification"
    path: "src/okina/notification.py"
    description: |
      Okinaé€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ¡ã‚¤ãƒ³ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã€‚
      å¤‰åŒ–æ¤œçŸ¥çµæœã®é€šçŸ¥ã€ã‚·ã‚¹ãƒ†ãƒ ç•°å¸¸ã®é€šçŸ¥ã€
      è¤‡æ•°ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¸ã®é€ä¿¡ã‚’æ‹…å½“ã™ã‚‹ã€‚
    
    classes:
      - name: "NotificationManager"
        description: "é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ ã®çµ±åˆç®¡ç†ã‚¯ãƒ©ã‚¹"
        methods:
          - name: "__init__"
            parameters:
              - name: "settings"
                type: "dict"
                description: "é€šçŸ¥è¨­å®š"
            description: "é€šçŸ¥ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã®åˆæœŸåŒ–"
          
          - name: "send_change_notification"
            parameters:
              - name: "diff_result"
                type: "dict"
                description: "å·®åˆ†æ¤œçŸ¥çµæœ"
              - name: "source"
                type: "str"
                description: "ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹å"
            returns:
              type: "bool"
              description: "é€ä¿¡æˆåŠŸæ™‚True"
            description: "å¤‰åŒ–æ¤œçŸ¥çµæœã®é€šçŸ¥é€ä¿¡"
          
          - name: "send_error_notification"
            parameters:
              - name: "error_type"
                type: "str"
                description: "ã‚¨ãƒ©ãƒ¼ç¨®åˆ¥"
              - name: "error_message"
                type: "str"
                description: "ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸"
            returns:
              type: "bool"
              description: "é€ä¿¡æˆåŠŸæ™‚True"
            description: "ã‚·ã‚¹ãƒ†ãƒ ç•°å¸¸ã®é€šçŸ¥é€ä¿¡"
      
      - name: "MessageFormatter"
        description: "é€šçŸ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆã‚¯ãƒ©ã‚¹"
        methods:
          - name: "format_change_message"
            parameters:
              - name: "diff_result"
                type: "dict"
                description: "å·®åˆ†æ¤œçŸ¥çµæœ"
              - name: "source"
                type: "str"
                description: "ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹å"
            returns:
              type: "str"
              description: "ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¸ˆã¿ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸"
            description: "å¤‰åŒ–æ¤œçŸ¥çµæœã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆ"
          
          - name: "format_error_message"
            parameters:
              - name: "error_type"
                type: "str"
                description: "ã‚¨ãƒ©ãƒ¼ç¨®åˆ¥"
              - name: "error_message"
                type: "str"
                description: "ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸"
            returns:
              type: "str"
              description: "ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¸ˆã¿ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸"
            description: "ã‚·ã‚¹ãƒ†ãƒ ç•°å¸¸ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆ"

correctness-properties:
  - id: "P1"
    title: "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆã®ä¸€è²«æ€§"
    type: "invariant"
    description: |
      åŒã˜å·®åˆ†æ¤œçŸ¥çµæœã‹ã‚‰ã¯å¸¸ã«åŒã˜ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒç”Ÿæˆã•ã‚Œã‚‹ã€‚
      ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ç¿ã‚‰ã—ãé™ã‹ã§ç°¡æ½”ã€åˆ¤æ–­çš„ã§ãªã„å†…å®¹ã¨ãªã‚‹ã€‚
    validates: ["AC-001", "AC-005"]
    test-strategy: "property-based"
    implementation:
      framework: "hypothesis"
      strategy: "st.dictionaries() for diff_result"
      assertion: "åŒã˜å…¥åŠ›ã‹ã‚‰åŒã˜ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒç”Ÿæˆã•ã‚Œã‚‹"
  
  - id: "P2"
    title: "ç’°å¢ƒå¤‰æ•°è§£æ±ºã®å®‰å…¨æ€§"
    type: "invariant"
    description: |
      env:ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ä»˜ãã®è¨­å®šå€¤ã¯ã€å¸¸ã«å¯¾å¿œã™ã‚‹ç’°å¢ƒå¤‰æ•°ã‹ã‚‰
      å€¤ãŒèª­ã¿è¾¼ã¾ã‚Œã‚‹ã€‚ç’°å¢ƒå¤‰æ•°ãŒå­˜åœ¨ã—ãªã„å ´åˆã¯é©åˆ‡ã«ã‚¨ãƒ©ãƒ¼å‡¦ç†ã•ã‚Œã‚‹ã€‚
    validates: ["AC-003"]
    test-strategy: "property-based"
    implementation:
      framework: "hypothesis"
      strategy: "st.text(regex=r'env:[A-Z_]+')"
      assertion: "ç’°å¢ƒå¤‰æ•°ãŒé©åˆ‡ã«è§£æ±ºã•ã‚Œã‚‹"
  
  - id: "P3"
    title: "ã‚¨ãƒ©ãƒ¼å‡¦ç†ã®ç¶™ç¶šæ€§"
    type: "invariant"
    description: |
      é€šçŸ¥é€ä¿¡ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã‚‚ã€ã‚·ã‚¹ãƒ†ãƒ ã¯é©åˆ‡ã«ã‚¨ãƒ©ãƒ¼ã‚’å‡¦ç†ã—ã€
      å‡¦ç†ã‚’ç¶™ç¶šã™ã‚‹ã€‚éƒ¨åˆ†çš„ãªå¤±æ•—ã§ã‚‚å¯èƒ½ãªå‡¦ç†ã¯ç¶™ç¶šã•ã‚Œã‚‹ã€‚
    validates: ["AC-006"]
    test-strategy: "unit"
    implementation:
      framework: "pytest"
      strategy: "ã‚¨ãƒ©ãƒ¼æ³¨å…¥ãƒ†ã‚¹ãƒˆ"
      assertion: "ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã‚‚å‡¦ç†ãŒç¶™ç¶šã•ã‚Œã‚‹"
  
  - id: "P4"
    title: "é€šçŸ¥å†…å®¹ã®å®Œå…¨æ€§"
    type: "completeness"
    description: |
      å·®åˆ†æ¤œçŸ¥çµæœã®å…¨ã¦ã®å¤‰åŒ–ï¼ˆadded/removed/changedï¼‰ãŒ
      é©åˆ‡ã«é€šçŸ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«å«ã¾ã‚Œã‚‹ã€‚
    validates: ["AC-001"]
    test-strategy: "property-based"
    implementation:
      framework: "hypothesis"
      strategy: "st.dictionaries(keys=st.sampled_from(['added', 'removed', 'changed']))"
      assertion: "å…¨ã¦ã®å¤‰åŒ–ãŒé€šçŸ¥ã«å«ã¾ã‚Œã‚‹"

data-structures:
  - name: "diff_result"
    type: "dict"
    schema:
      added:
        type: "list"
        required: false
        description: "æ–°è¦è¿½åŠ ã•ã‚ŒãŸã‚¢ã‚¤ãƒ†ãƒ ã®ãƒªã‚¹ãƒˆ"
      removed:
        type: "list"
        required: false
        description: "å‰Šé™¤ã•ã‚ŒãŸã‚¢ã‚¤ãƒ†ãƒ ã®ãƒªã‚¹ãƒˆ"
      changed:
        type: "list"
        required: false
        description: "å†…å®¹å¤‰æ›´ã•ã‚ŒãŸã‚¢ã‚¤ãƒ†ãƒ ã®ãƒªã‚¹ãƒˆ"
    example:
      added:
        - id: "fortinet:fortios:7.6.7:release"
          title: "FortiOS 7.6.7 Release Notes"
          url: "https://docs.fortinet.com/..."
      changed:
        - id: "fortinet:fortios:7.6.6:release"
          title: "FortiOS 7.6.6 Release Notes"
          url: "https://docs.fortinet.com/..."
          changes: ["PDF URLãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸ"]
  
  - name: "notification_settings"
    type: "dict"
    schema:
      slack:
        type: "dict"
        required: false
        description: "Slacké€šçŸ¥è¨­å®š"
      discord:
        type: "dict"
        required: false
        description: "Discordé€šçŸ¥è¨­å®š"
      teams:
        type: "dict"
        required: false
        description: "Teamsé€šçŸ¥è¨­å®š"
      email:
        type: "dict"
        required: false
        description: "ãƒ¡ãƒ¼ãƒ«é€šçŸ¥è¨­å®š"

message-templates:
  change-notification:
    format: |
      ğŸ® Okinaï¼ˆç¿ï¼‰ã‹ã‚‰ã®ãŠçŸ¥ã‚‰ã›
      
      ğŸ“… {timestamp}
      ğŸ” ã‚½ãƒ¼ã‚¹: {source}
      
      {changes_summary}
      
      è©³ç´°ã¯ okina history ã§ç¢ºèªã§ãã¾ã™
    
    changes-summary:
      added: "âœ¨ æ–°è¦è¿½åŠ : {count}ä»¶"
      removed: "ğŸ—‘ï¸ å‰Šé™¤: {count}ä»¶"
      changed: "ğŸ”„ å†…å®¹å¤‰æ›´: {count}ä»¶"
    
    item-detail:
      format: |
        â€¢ {title}
          {url}
      
      changed-format: |
        â€¢ {title}
          {url}
          å¤‰æ›´: {changes}
  
  error-notification:
    format: |
      ğŸ® Okinaï¼ˆç¿ï¼‰ã‹ã‚‰ã®ç•°å¸¸å ±å‘Š
      
      ğŸ“… {timestamp}
      âš ï¸ {error_type}: {error_message}
      
      ç¢ºèªã‚’ãŠé¡˜ã„ã—ã¾ã™
    
    error-types:
      no-data: "ãƒ‡ãƒ¼ã‚¿å–å¾—ç•°å¸¸"
      no-history: "å±¥æ­´ãƒ‡ãƒ¼ã‚¿ãªã—"
      parse-error: "ãƒ‡ãƒ¼ã‚¿è§£æç•°å¸¸"
      system-error: "ã‚·ã‚¹ãƒ†ãƒ ç•°å¸¸"

error-handling:
  - error: "requests.RequestException"
    handling: "continue"
    message: "é€šçŸ¥é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸ: {platform} - {error}"
    log-level: "error"
  
  - error: "smtplib.SMTPException"
    handling: "continue"
    message: "ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸ: {error}"
    log-level: "error"
  
  - error: "KeyError"
    handling: "continue"
    message: "è¨­å®šé …ç›®ãŒä¸è¶³ã—ã¦ã„ã¾ã™: {key}"
    log-level: "warning"
  
  - error: "ValueError"
    handling: "continue"
    message: "è¨­å®šå€¤ãŒä¸æ­£ã§ã™: {value}"
    log-level: "warning"

configuration:
  - name: "notifications.slack.enabled"
    type: "bool"
    required: false
    default: false
    description: "Slacké€šçŸ¥ã®æœ‰åŠ¹/ç„¡åŠ¹"
  
  - name: "notifications.slack.webhook_url"
    type: "str"
    required: true
    default: null
    description: "Slack Webhook URLï¼ˆenv:ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹å¯¾å¿œï¼‰"
    validation:
      - "æœ‰åŠ¹ãªURLå½¢å¼ã¾ãŸã¯env:ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹"
  
  - name: "notifications.slack.channel"
    type: "str"
    required: false
    default: "#alerts"
    description: "é€šçŸ¥å…ˆãƒãƒ£ãƒ³ãƒãƒ«"
  
  - name: "notifications.slack.username"
    type: "str"
    required: false
    default: "Okinaï¼ˆç¿ï¼‰"
    description: "é€šçŸ¥æ™‚ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å"
  
  - name: "notifications.slack.icon_emoji"
    type: "str"
    required: false
    default: ":older_man:"
    description: "é€šçŸ¥æ™‚ã®ã‚¢ã‚¤ã‚³ãƒ³"
  
  - name: "output.max_items_per_notification"
    type: "int"
    required: false
    default: 10
    description: "1å›ã®é€šçŸ¥ã§è¡¨ç¤ºã™ã‚‹æœ€å¤§ã‚¢ã‚¤ãƒ†ãƒ æ•°"
    validation:
      - "1ä»¥ä¸Šã®æ•´æ•°"

dependencies:
  internal: []
  external:
    - name: "requests"
      version: ">=2.31.0"
      purpose: "HTTPé€šä¿¡ï¼ˆWebhooké€ä¿¡ï¼‰"
    - name: "smtplib"
      version: "æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒª"
      purpose: "ãƒ¡ãƒ¼ãƒ«é€ä¿¡"
    - name: "email"
      version: "æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒª"
      purpose: "ãƒ¡ãƒ¼ãƒ«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä½œæˆ"

testing-strategy:
  property-tests:
    - property: "P1"
      file: "tests/test_notification_properties.py"
      function: "test_message_generation_consistency"
    
    - property: "P2"
      file: "tests/test_notification_properties.py"
      function: "test_env_var_resolution_safety"
    
    - property: "P4"
      file: "tests/test_notification_properties.py"
      function: "test_notification_completeness"
  
  integration-tests:
    - validates: ["AC-001", "AC-002"]
      file: "tests/test_notification_integration.py"
      function: "test_end_to_end_notification_flow"
    
    - validates: ["AC-004", "AC-005"]
      file: "tests/test_notification_integration.py"
      function: "test_error_notification_flow"
    
    - validates: ["AC-006"]
      file: "tests/test_notification_integration.py"
      function: "test_error_handling_scenarios"
  
  unit-tests:
    - validates: ["AC-001"]
      file: "tests/test_notification_unit.py"
      function: "test_change_message_formatting"
    
    - validates: ["AC-003"]
      file: "tests/test_notification_unit.py"
      function: "test_env_var_resolution"
    
    - validates: ["AC-005"]
      file: "tests/test_notification_unit.py"
      function: "test_message_tone_and_style"

performance:
  targets:
    - metric: "é€šçŸ¥é€ä¿¡å‡¦ç†æ™‚é–“"
      target: "< 10ç§’"
      measurement: "NotificationManager.send_*_notification()ã®å®Ÿè¡Œæ™‚é–“"
    
    - metric: "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆå‡¦ç†æ™‚é–“"
      target: "< 100ms"
      measurement: "MessageFormatter.format_*_message()ã®å®Ÿè¡Œæ™‚é–“"

security:
  considerations:
    - "Webhook URLã®æ¤œè¨¼ï¼ˆæœ‰åŠ¹ãªURLå½¢å¼ï¼‰"
    - "ç’°å¢ƒå¤‰æ•°ã«ã‚ˆã‚‹æ©Ÿå¯†æƒ…å ±ç®¡ç†"
    - "é€šä¿¡æ™‚ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šï¼ˆDoSæ”»æ’ƒé˜²æ­¢ï¼‰"
    - "ãƒ¡ãƒ¼ãƒ«èªè¨¼æƒ…å ±ã®å®‰å…¨ãªç®¡ç†"
    - "é€šçŸ¥å†…å®¹ã«æ©Ÿå¯†æƒ…å ±ã‚’å«ã‚ãªã„"

resilience:
  notification-failure:
    considered: true
    decision: "adopted"
    rationale: |
      é€šçŸ¥é€ä¿¡å¤±æ•—æ™‚ã¯ã€ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‚’å‡ºåŠ›ã—ã¦å‡¦ç†ã‚’ç¶™ç¶šã™ã‚‹ã€‚
      Okinaã¯ã€Œä¸»å½¹ã§ã¯ãªã„ã€ãŸã‚ã€é€šçŸ¥å¤±æ•—ã§ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã‚’
      åœæ­¢ã•ã›ã‚‹ã“ã¨ã¯é©åˆ‡ã§ã¯ãªã„ã€‚
    implementation:
      - "å„ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®é€ä¿¡å¤±æ•—ã‚’ç‹¬ç«‹ã—ã¦å‡¦ç†"
      - "éƒ¨åˆ†çš„ãªå¤±æ•—ã§ã‚‚å¯èƒ½ãªå‡¦ç†ã¯ç¶™ç¶š"
      - "ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã«ã‚ˆã‚‹å•é¡Œã®è¨˜éŒ²"
  
  network-partition:
    considered: true
    decision: "adopted"
    rationale: |
      ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ†æ–­æ™‚ã¯ã€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã§ã‚¨ãƒ©ãƒ¼ã‚’æ¤œå‡ºã—ã€
      ãƒ­ãƒ¼ã‚«ãƒ«ãƒ­ã‚°ã«è¨˜éŒ²ã—ã¦å‡¦ç†ã‚’ç¶™ç¶šã™ã‚‹ã€‚
    implementation:
      - "é©åˆ‡ãªã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®šï¼ˆ10ç§’ï¼‰"
      - "æ¥ç¶šã‚¨ãƒ©ãƒ¼ã®é©åˆ‡ãªå‡¦ç†"
      - "ãƒ­ãƒ¼ã‚«ãƒ«ãƒ­ã‚°ã¸ã®è¨˜éŒ²"
  
  configuration-error:
    considered: true
    decision: "adopted"
    rationale: |
      è¨­å®šã‚¨ãƒ©ãƒ¼æ™‚ã¯ã€è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¦
      è©²å½“ã™ã‚‹é€šçŸ¥æ–¹å¼ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã€å‡¦ç†ã‚’ç¶™ç¶šã™ã‚‹ã€‚
    implementation:
      - "è¨­å®šæ¤œè¨¼ã¨ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸"
      - "éƒ¨åˆ†çš„ãªè¨­å®šã‚¨ãƒ©ãƒ¼ã§ã‚‚ä»–ã®æ–¹å¼ã¯ç¶™ç¶š"
      - "åˆ†ã‹ã‚Šã‚„ã™ã„ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸"